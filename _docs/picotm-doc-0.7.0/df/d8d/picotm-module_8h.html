<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>picotm: include/picotm/picotm-module.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">picotm
   &#160;<span id="projectnumber">0.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_bdaf4cd7bfea9ec74450802fe6841969.html">picotm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">picotm-module.h File Reference<div class="ingroups"><a class="el" href="../../de/d23/group__group__modules.html">The Module Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Picotm's module interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d3/dce/stddef_8h.html">stddef.h</a>&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dd1/compiler_8h.html">compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dd/dd6/picotm-error_8h.html">picotm-error.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3a89d229af6d9f7321cdffc23f1e4a42"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a3a89d229af6d9f7321cdffc23f1e4a42">picotm_module_lock_function</a>) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a3a89d229af6d9f7321cdffc23f1e4a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70e89c61357a3e320fa4fbf5247ad80"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#ab70e89c61357a3e320fa4fbf5247ad80">picotm_module_unlock_function</a>) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:ab70e89c61357a3e320fa4fbf5247ad80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e1cbeba98e8b02a750af481a14c4f13"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a3e1cbeba98e8b02a750af481a14c4f13">picotm_module_validate_function</a>) (void *data, int is_irrevocable, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a3e1cbeba98e8b02a750af481a14c4f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb99806f91c327410ebd958dab6221c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#addb99806f91c327410ebd958dab6221c">picotm_module_apply_function</a>) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:addb99806f91c327410ebd958dab6221c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34261709919be6efb0e994f3a85da47c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a34261709919be6efb0e994f3a85da47c">picotm_module_undo_function</a>) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a34261709919be6efb0e994f3a85da47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801cdf0ffef420bebd9cd12f3c93f380"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a801cdf0ffef420bebd9cd12f3c93f380">picotm_module_apply_event_function</a>) (const struct picotm_event *event, void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a801cdf0ffef420bebd9cd12f3c93f380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7087641b307690a9b5090db689fac76"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#af7087641b307690a9b5090db689fac76">picotm_module_undo_event_function</a>) (const struct picotm_event *event, void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:af7087641b307690a9b5090db689fac76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0294c7190c0b14113eb3adc4cd24964"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#ab0294c7190c0b14113eb3adc4cd24964">picotm_module_update_cc_function</a>) (void *data, int is_irrevocable, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:ab0294c7190c0b14113eb3adc4cd24964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e7d35280f915599a0f561dfe332e0e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a53e7d35280f915599a0f561dfe332e0e">picotm_module_clear_cc_function</a>) (void *data, int is_irrevocable, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a53e7d35280f915599a0f561dfe332e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2458779ab3756641953dd71382aaae17"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a2458779ab3756641953dd71382aaae17">picotm_module_finish_function</a>) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a2458779ab3756641953dd71382aaae17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee94320cb60cae69b7fc95eae6f346f1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#aee94320cb60cae69b7fc95eae6f346f1">picotm_module_uninit_function</a>) (void *data)</td></tr>
<tr class="separator:aee94320cb60cae69b7fc95eae6f346f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0251b546e9d88096b4845970a0696e6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a0251b546e9d88096b4845970a0696e6c">picotm_register_module</a> (<a class="el" href="../../df/d8d/picotm-module_8h.html#a3a89d229af6d9f7321cdffc23f1e4a42">picotm_module_lock_function</a> lock, <a class="el" href="../../df/d8d/picotm-module_8h.html#ab70e89c61357a3e320fa4fbf5247ad80">picotm_module_unlock_function</a> unlock, <a class="el" href="../../df/d8d/picotm-module_8h.html#a3e1cbeba98e8b02a750af481a14c4f13">picotm_module_validate_function</a> validate, <a class="el" href="../../df/d8d/picotm-module_8h.html#addb99806f91c327410ebd958dab6221c">picotm_module_apply_function</a> apply, <a class="el" href="../../df/d8d/picotm-module_8h.html#a34261709919be6efb0e994f3a85da47c">picotm_module_undo_function</a> undo, <a class="el" href="../../df/d8d/picotm-module_8h.html#a801cdf0ffef420bebd9cd12f3c93f380">picotm_module_apply_event_function</a> apply_event, <a class="el" href="../../df/d8d/picotm-module_8h.html#af7087641b307690a9b5090db689fac76">picotm_module_undo_event_function</a> undo_event, <a class="el" href="../../df/d8d/picotm-module_8h.html#ab0294c7190c0b14113eb3adc4cd24964">picotm_module_update_cc_function</a> update_cc, <a class="el" href="../../df/d8d/picotm-module_8h.html#a53e7d35280f915599a0f561dfe332e0e">picotm_module_clear_cc_function</a> clear_cc, <a class="el" href="../../df/d8d/picotm-module_8h.html#a2458779ab3756641953dd71382aaae17">picotm_module_finish_function</a> finish, <a class="el" href="../../df/d8d/picotm-module_8h.html#aee94320cb60cae69b7fc95eae6f346f1">picotm_module_uninit_function</a> uninit, void *cbdata, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a0251b546e9d88096b4845970a0696e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369b6a077fe9b8fe14a8c627108561cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a369b6a077fe9b8fe14a8c627108561cd">picotm_append_event</a> (unsigned long module, unsigned long op, uintptr_t cookie, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a369b6a077fe9b8fe14a8c627108561cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0e5368d2d5a8b0c7136796f08dfdcd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a7f0e5368d2d5a8b0c7136796f08dfdcd">picotm_resolve_conflict</a> (struct <a class="el" href="../../d4/d5d/structpicotm__rwlock.html">picotm_rwlock</a> *conflicting_lock)</td></tr>
<tr class="separator:a7f0e5368d2d5a8b0c7136796f08dfdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1379509adee43a6c9da098ef751a8b5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a1379509adee43a6c9da098ef751a8b5e">picotm_recover_from_error_code</a> (enum <a class="el" href="../../dd/dd6/picotm-error_8h.html#a027f150be49120d8000153e2844b4544">picotm_error_code</a> error_hint)</td></tr>
<tr class="separator:a1379509adee43a6c9da098ef751a8b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5850fe715c07bb913a61fb98f53cbae4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a5850fe715c07bb913a61fb98f53cbae4">picotm_recover_from_errno</a> (int errno_hint)</td></tr>
<tr class="separator:a5850fe715c07bb913a61fb98f53cbae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed650f21642ae9e677dba82aa39cccb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#abed650f21642ae9e677dba82aa39cccb">picotm_recover_from_error</a> (const struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td></tr>
<tr class="separator:abed650f21642ae9e677dba82aa39cccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06f90148e8b4cf5af2b3c4bb5775d7ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a06f90148e8b4cf5af2b3c4bb5775d7ae">picotm_is_valid</a> (void)</td></tr>
<tr class="separator:a06f90148e8b4cf5af2b3c4bb5775d7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad204e9989ad12fb44fed4866bfabf235"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#ad204e9989ad12fb44fed4866bfabf235">picotm_irrevocable</a> (void)</td></tr>
<tr class="separator:ad204e9989ad12fb44fed4866bfabf235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2172652cefbb1ed0fb9d13b4acd5da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d8d/picotm-module_8h.html#a9a2172652cefbb1ed0fb9d13b4acd5da">picotm_is_irrevocable</a> (void)</td></tr>
<tr class="separator:a9a2172652cefbb1ed0fb9d13b4acd5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Picotm is extensible. The header file <code><a class="el" href="../../df/d8d/picotm-module_8h.html" title="Picotm&#39;s module interface. ">picotm-module.h</a></code> contains the declaration of picotm's module interface. The interface allows for implementing support for additional features, libraries and functionality. All existing modules are written on top of this interface as well. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a801cdf0ffef420bebd9cd12f3c93f380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a801cdf0ffef420bebd9cd12f3c93f380">&#9670;&nbsp;</a></span>picotm_module_apply_event_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_apply_event_function) (const struct picotm_event *event, void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the commit phase to apply an event. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">event</td><td>An event. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="addb99806f91c327410ebd958dab6221c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb99806f91c327410ebd958dab6221c">&#9670;&nbsp;</a></span>picotm_module_apply_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_apply_function) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the commit phase to apply changes of a module. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a53e7d35280f915599a0f561dfe332e0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e7d35280f915599a0f561dfe332e0e">&#9670;&nbsp;</a></span>picotm_module_clear_cc_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_clear_cc_function) (void *data, int is_irrevocable, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to clear a module's concurrency control during an abort. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_irrevocable</td><td>True if the transaction is irrevocable, false otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2458779ab3756641953dd71382aaae17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2458779ab3756641953dd71382aaae17">&#9670;&nbsp;</a></span>picotm_module_finish_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_finish_function) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to clean up a module's resources at the end of a transaction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a89d229af6d9f7321cdffc23f1e4a42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a89d229af6d9f7321cdffc23f1e4a42">&#9670;&nbsp;</a></span>picotm_module_lock_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_lock_function) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to lock a module's resources at the beginning if a commit. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af7087641b307690a9b5090db689fac76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7087641b307690a9b5090db689fac76">&#9670;&nbsp;</a></span>picotm_module_undo_event_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_undo_event_function) (const struct picotm_event *event, void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the roll-back phase to revert an event. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">event</td><td>An event. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34261709919be6efb0e994f3a85da47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34261709919be6efb0e994f3a85da47c">&#9670;&nbsp;</a></span>picotm_module_undo_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_undo_function) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the roll-back phase to revert changes of a module. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee94320cb60cae69b7fc95eae6f346f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee94320cb60cae69b7fc95eae6f346f1">&#9670;&nbsp;</a></span>picotm_module_uninit_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_uninit_function) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to clean up a module's resources when the thread exists. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab70e89c61357a3e320fa4fbf5247ad80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70e89c61357a3e320fa4fbf5247ad80">&#9670;&nbsp;</a></span>picotm_module_unlock_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_unlock_function) (void *data, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to unlock a module's resources. This is the inverse of picotm_module_lock_function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab0294c7190c0b14113eb3adc4cd24964"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0294c7190c0b14113eb3adc4cd24964">&#9670;&nbsp;</a></span>picotm_module_update_cc_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_update_cc_function) (void *data, int is_irrevocable, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to update a module's concurrency control during a commit. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_irrevocable</td><td>True if the transaction is irrevocable, false otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e1cbeba98e8b02a750af481a14c4f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e1cbeba98e8b02a750af481a14c4f13">&#9670;&nbsp;</a></span>picotm_module_validate_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_validate_function) (void *data, int is_irrevocable, struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to validate a module's resources. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_irrevocable</td><td>True if the transaction is irrevocable, false otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a369b6a077fe9b8fe14a8c627108561cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369b6a077fe9b8fe14a8c627108561cd">&#9670;&nbsp;</a></span>picotm_append_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_append_event </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>cookie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends an event to the transaction's event log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">module</td><td>The module number </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">op</td><td>A module-specific operation. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cookie</td><td>A module-specific cookie. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad204e9989ad12fb44fed4866bfabf235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad204e9989ad12fb44fed4866bfabf235">&#9670;&nbsp;</a></span>picotm_irrevocable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_irrevocable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes the current transaction irrevocable. </p>

</div>
</div>
<a id="a9a2172652cefbb1ed0fb9d13b4acd5da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2172652cefbb1ed0fb9d13b4acd5da">&#9670;&nbsp;</a></span>picotm_is_irrevocable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> bool picotm_is_irrevocable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the transaction irrevocability status. </p><dl class="section return"><dt>Returns</dt><dd>True if the transaction is irrevocable, false otherwise. </dd></dl>

</div>
</div>
<a id="a06f90148e8b4cf5af2b3c4bb5775d7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06f90148e8b4cf5af2b3c4bb5775d7ae">&#9670;&nbsp;</a></span>picotm_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> bool picotm_is_valid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates the transaction state. </p><dl class="section return"><dt>Returns</dt><dd>True if the transaction state is valid, false otherwise. </dd></dl>

</div>
</div>
<a id="a5850fe715c07bb913a61fb98f53cbae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5850fe715c07bb913a61fb98f53cbae4">&#9670;&nbsp;</a></span>picotm_recover_from_errno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_errno </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errno_hint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error. The errno code is given as a hint. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errno_hint</td><td>The errno code of the detected error, or 0 if unknown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="abed650f21642ae9e677dba82aa39cccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed650f21642ae9e677dba82aa39cccb">&#9670;&nbsp;</a></span>picotm_recover_from_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_error </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error. The error is supplied as an argument. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>The detected error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="a1379509adee43a6c9da098ef751a8b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1379509adee43a6c9da098ef751a8b5e">&#9670;&nbsp;</a></span>picotm_recover_from_error_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_error_code </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dd/dd6/picotm-error_8h.html#a027f150be49120d8000153e2844b4544">picotm_error_code</a>&#160;</td>
          <td class="paramname"><em>error_hint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error. The error code is given as a hint. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_hint</td><td>The error code of the detected error, or PICOTM_GENERAL_ERROR if unknown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="a0251b546e9d88096b4845970a0696e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0251b546e9d88096b4845970a0696e6c">&#9670;&nbsp;</a></span>picotm_register_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> unsigned long picotm_register_module </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#a3a89d229af6d9f7321cdffc23f1e4a42">picotm_module_lock_function</a>&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#ab70e89c61357a3e320fa4fbf5247ad80">picotm_module_unlock_function</a>&#160;</td>
          <td class="paramname"><em>unlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#a3e1cbeba98e8b02a750af481a14c4f13">picotm_module_validate_function</a>&#160;</td>
          <td class="paramname"><em>validate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#addb99806f91c327410ebd958dab6221c">picotm_module_apply_function</a>&#160;</td>
          <td class="paramname"><em>apply</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#a34261709919be6efb0e994f3a85da47c">picotm_module_undo_function</a>&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#a801cdf0ffef420bebd9cd12f3c93f380">picotm_module_apply_event_function</a>&#160;</td>
          <td class="paramname"><em>apply_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#af7087641b307690a9b5090db689fac76">picotm_module_undo_event_function</a>&#160;</td>
          <td class="paramname"><em>undo_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#ab0294c7190c0b14113eb3adc4cd24964">picotm_module_update_cc_function</a>&#160;</td>
          <td class="paramname"><em>update_cc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#a53e7d35280f915599a0f561dfe332e0e">picotm_module_clear_cc_function</a>&#160;</td>
          <td class="paramname"><em>clear_cc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#a2458779ab3756641953dd71382aaae17">picotm_module_finish_function</a>&#160;</td>
          <td class="paramname"><em>finish</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8d/picotm-module_8h.html#aee94320cb60cae69b7fc95eae6f346f1">picotm_module_uninit_function</a>&#160;</td>
          <td class="paramname"><em>uninit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d2/d39/structpicotm__error.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers a new module with the transaction management system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">lock</td><td>The lock call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">unlock</td><td>The unlock call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">validate</td><td>The validate call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">apply</td><td>The apply call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">undo</td><td>The undo call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">apply_event</td><td>The apply-event call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">undo_event</td><td>The undo-event call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">update_cc</td><td>The update-CC call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">clear_cc</td><td>The clear-CC call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">finish</td><td>The finish call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">uninit</td><td>The uninit call-back function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cbdata</td><td>A pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A module number on success. </dd></dl>

</div>
</div>
<a id="a7f0e5368d2d5a8b0c7136796f08dfdcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0e5368d2d5a8b0c7136796f08dfdcd">&#9670;&nbsp;</a></span>picotm_resolve_conflict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd1/compiler_8h.html#a8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_resolve_conflict </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d4/d5d/structpicotm__rwlock.html">picotm_rwlock</a> *&#160;</td>
          <td class="paramname"><em>conflicting_lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to resolve a conflict between transactions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conflicting_lock</td><td>The conflicting lock, or NULL if unknown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
