<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>picotm: picotm/picotm-module.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_4eaf8f6a41a8424231482edc717c057f.html">picotm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">picotm-module.h File Reference<div class="ingroups"><a class="el" href="../../dc/d98/a00225.html">The Module Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Picotm's module interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;picotm/config/picotm-config.h&quot;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d1/d44/a00098.html">stdbool.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d4/d3a/a00101.html">stddef.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d0/dc2/a00104.html">stdint.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="../../dd/dad/a00005.html">compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../da/d45/a00011.html">picotm-error.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7f/a00287.html">picotm_module_ops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ac94ac43645f051be864a63cefa707b73"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#ac94ac43645f051be864a63cefa707b73">picotm_module_apply_event_function</a>) (uint16_t head, uintptr_t tail, void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:ac94ac43645f051be864a63cefa707b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb99806f91c327410ebd958dab6221c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#addb99806f91c327410ebd958dab6221c">picotm_module_apply_function</a>) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:addb99806f91c327410ebd958dab6221c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a825b09491a4c52d2d4476de697fa7ff0"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a825b09491a4c52d2d4476de697fa7ff0">picotm_module_begin_function</a>) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a825b09491a4c52d2d4476de697fa7ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2458779ab3756641953dd71382aaae17"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a2458779ab3756641953dd71382aaae17">picotm_module_finish_function</a>) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a2458779ab3756641953dd71382aaae17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d828ac9a38a298c91079aee0ab2eb1e"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a0d828ac9a38a298c91079aee0ab2eb1e">picotm_module_prepare_commit_function</a>) (void *data, int is_irrevocable, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a0d828ac9a38a298c91079aee0ab2eb1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0db56e6c28352f0c332674c0665c408"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#ab0db56e6c28352f0c332674c0665c408">picotm_module_release_function</a>) (void *data)</td></tr>
<tr class="separator:ab0db56e6c28352f0c332674c0665c408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a9f0b592df6207c1fa48d63ee441bb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a89a9f0b592df6207c1fa48d63ee441bb">picotm_module_undo_event_function</a>) (uint16_t head, uintptr_t tail, void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a89a9f0b592df6207c1fa48d63ee441bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34261709919be6efb0e994f3a85da47c"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a34261709919be6efb0e994f3a85da47c">picotm_module_undo_function</a>) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a34261709919be6efb0e994f3a85da47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7f3813394f792c19225f16cde9d03458"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a7f3813394f792c19225f16cde9d03458">picotm_append_event</a> (unsigned long module, uint16_t head, uintptr_t tail, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a7f3813394f792c19225f16cde9d03458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad204e9989ad12fb44fed4866bfabf235"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#ad204e9989ad12fb44fed4866bfabf235">picotm_irrevocable</a> (void)</td></tr>
<tr class="separator:ad204e9989ad12fb44fed4866bfabf235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2172652cefbb1ed0fb9d13b4acd5da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a9a2172652cefbb1ed0fb9d13b4acd5da">picotm_is_irrevocable</a> (void)</td></tr>
<tr class="separator:a9a2172652cefbb1ed0fb9d13b4acd5da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5850fe715c07bb913a61fb98f53cbae4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a5850fe715c07bb913a61fb98f53cbae4">picotm_recover_from_errno</a> (int errno_hint)</td></tr>
<tr class="separator:a5850fe715c07bb913a61fb98f53cbae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed650f21642ae9e677dba82aa39cccb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#abed650f21642ae9e677dba82aa39cccb">picotm_recover_from_error</a> (const struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:abed650f21642ae9e677dba82aa39cccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1379509adee43a6c9da098ef751a8b5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a1379509adee43a6c9da098ef751a8b5e">picotm_recover_from_error_code</a> (enum <a class="el" href="../../d9/d01/a00227.html#ga027f150be49120d8000153e2844b4544">picotm_error_code</a> error_hint)</td></tr>
<tr class="separator:a1379509adee43a6c9da098ef751a8b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd84e873fe18d626ee58d7e213b8628"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a9cd84e873fe18d626ee58d7e213b8628">picotm_recover_from_kern_return_t</a> (kern_return_t value)</td></tr>
<tr class="separator:a9cd84e873fe18d626ee58d7e213b8628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a89d0a445f9ddb5d5735372cd790b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a77a89d0a445f9ddb5d5735372cd790b9">picotm_recover_from_siginfo_t</a> (const siginfo_t *info)</td></tr>
<tr class="separator:a77a89d0a445f9ddb5d5735372cd790b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0a82c58e3ebca68625099573038a88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a3c0a82c58e3ebca68625099573038a88">picotm_register_module</a> (const struct <a class="el" href="../../d6/d7f/a00287.html">picotm_module_ops</a> *ops, void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:a3c0a82c58e3ebca68625099573038a88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0e5368d2d5a8b0c7136796f08dfdcd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8b/a00059.html#a7f0e5368d2d5a8b0c7136796f08dfdcd">picotm_resolve_conflict</a> (struct <a class="el" href="../../d0/d2f/a00259.html">picotm_rwlock</a> *conflicting_lock)</td></tr>
<tr class="separator:a7f0e5368d2d5a8b0c7136796f08dfdcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Picotm is extensible. The header file <code><a class="el" href="../../d3/d8b/a00059.html" title="Picotm&#39;s module interface. ">picotm-module.h</a></code> contains the declaration of picotm's module interface. The interface allows for implementing support for additional features, libraries and functionality. All existing modules are written on top of this interface as well. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ac94ac43645f051be864a63cefa707b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94ac43645f051be864a63cefa707b73">&#9670;&nbsp;</a></span>picotm_module_apply_event_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_apply_event_function) (uint16_t head, uintptr_t tail, void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the commit phase to apply an event. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">head</td><td>The event's head data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tail</td><td>The event's tail data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="addb99806f91c327410ebd958dab6221c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb99806f91c327410ebd958dab6221c">&#9670;&nbsp;</a></span>picotm_module_apply_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_apply_function) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the commit phase to apply changes of a module. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a825b09491a4c52d2d4476de697fa7ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825b09491a4c52d2d4476de697fa7ff0">&#9670;&nbsp;</a></span>picotm_module_begin_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_begin_function) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm at the beginning of a transaction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2458779ab3756641953dd71382aaae17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2458779ab3756641953dd71382aaae17">&#9670;&nbsp;</a></span>picotm_module_finish_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_finish_function) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to clean up a module's resources at the end of a transaction. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d828ac9a38a298c91079aee0ab2eb1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d828ac9a38a298c91079aee0ab2eb1e">&#9670;&nbsp;</a></span>picotm_module_prepare_commit_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_prepare_commit_function) (void *data, int is_irrevocable, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to prepare a module's resources for commit. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_irrevocable</td><td>True if the transaction is irrevocable, false otherwise. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab0db56e6c28352f0c332674c0665c408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0db56e6c28352f0c332674c0665c408">&#9670;&nbsp;</a></span>picotm_module_release_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_release_function) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm to clean up a module's resources when the thread exists. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89a9f0b592df6207c1fa48d63ee441bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a9f0b592df6207c1fa48d63ee441bb">&#9670;&nbsp;</a></span>picotm_module_undo_event_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_undo_event_function) (uint16_t head, uintptr_t tail, void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the roll-back phase to revert an event. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">head</td><td>The event's head data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tail</td><td>The event's tail data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a34261709919be6efb0e994f3a85da47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34261709919be6efb0e994f3a85da47c">&#9670;&nbsp;</a></span>picotm_module_undo_function</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* picotm_module_undo_function) (void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Invoked by picotm during the roll-back phase to revert changes of a module. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error from the module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7f3813394f792c19225f16cde9d03458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3813394f792c19225f16cde9d03458">&#9670;&nbsp;</a></span>picotm_append_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_append_event </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>tail</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends an event to the transaction's event log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">module</td><td>The module number </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">head</td><td>Module-specific head data. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">tail</td><td>Module-specific tail data, or a pointer to tail data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad204e9989ad12fb44fed4866bfabf235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad204e9989ad12fb44fed4866bfabf235">&#9670;&nbsp;</a></span>picotm_irrevocable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_irrevocable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Makes the current transaction irrevocable. </p>

</div>
</div>
<a id="a9a2172652cefbb1ed0fb9d13b4acd5da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a2172652cefbb1ed0fb9d13b4acd5da">&#9670;&nbsp;</a></span>picotm_is_irrevocable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> bool picotm_is_irrevocable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the transaction irrevocability status. </p><dl class="section return"><dt>Returns</dt><dd>True if the transaction is irrevocable, false otherwise. </dd></dl>

</div>
</div>
<a id="a5850fe715c07bb913a61fb98f53cbae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5850fe715c07bb913a61fb98f53cbae4">&#9670;&nbsp;</a></span>picotm_recover_from_errno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_errno </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>errno_hint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error. The errno code is given as a hint. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">errno_hint</td><td>The errno code of the detected error, or 0 if unknown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="abed650f21642ae9e677dba82aa39cccb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed650f21642ae9e677dba82aa39cccb">&#9670;&nbsp;</a></span>picotm_recover_from_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_error </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error. The error is supplied as an argument. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>The detected error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="a1379509adee43a6c9da098ef751a8b5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1379509adee43a6c9da098ef751a8b5e">&#9670;&nbsp;</a></span>picotm_recover_from_error_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_error_code </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../d9/d01/a00227.html#ga027f150be49120d8000153e2844b4544">picotm_error_code</a>&#160;</td>
          <td class="paramname"><em>error_hint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error. The error code is given as a hint. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_hint</td><td>The error code of the detected error, or PICOTM_GENERAL_ERROR if unknown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="a9cd84e873fe18d626ee58d7e213b8628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd84e873fe18d626ee58d7e213b8628">&#9670;&nbsp;</a></span>picotm_recover_from_kern_return_t()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_kern_return_t </td>
          <td>(</td>
          <td class="paramtype">kern_return_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an error given as value of type 'kern_return_t'. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The kern_return_t value of the detected error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
<a id="a77a89d0a445f9ddb5d5735372cd790b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a89d0a445f9ddb5d5735372cd790b9">&#9670;&nbsp;</a></span>picotm_recover_from_siginfo_t()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_recover_from_siginfo_t </td>
          <td>(</td>
          <td class="paramtype">const siginfo_t *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to recover from an signal. Informaton about the signal is provided as value of type 'siginfo_t'. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>The siginfo_t value of the received signal.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function does not return. </dd></dl>

</div>
</div>
<a id="a3c0a82c58e3ebca68625099573038a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0a82c58e3ebca68625099573038a88">&#9670;&nbsp;</a></span>picotm_register_module()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> unsigned long picotm_register_module </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="../../d6/d7f/a00287.html">picotm_module_ops</a> *&#160;</td>
          <td class="paramname"><em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers a new module with the transaction management system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ops</td><td>The module-operations call-back structure. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>A pointer to module-specific data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A module number on success. </dd></dl>

</div>
</div>
<a id="a7f0e5368d2d5a8b0c7136796f08dfdcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0e5368d2d5a8b0c7136796f08dfdcd">&#9670;&nbsp;</a></span>picotm_resolve_conflict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void picotm_resolve_conflict </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/d2f/a00259.html">picotm_rwlock</a> *&#160;</td>
          <td class="paramname"><em>conflicting_lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instructs the transaction management system to resolve a conflict between transactions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conflicting_lock</td><td>The conflicting lock, or NULL if unknown.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>This function will not return if picotm aborts the transaction. If the function returns, the caller shall restart the operation that triggered the conflict. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!--
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
-->
</body>
</html>
