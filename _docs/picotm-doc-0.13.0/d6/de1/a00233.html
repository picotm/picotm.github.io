<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>picotm: The Pointer-Data Module</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">The Pointer-Data Module</div>  </div>
</div><!--header-->
<div class="contents">

<p>The pointer-data module associates data items with arbitrary memory locations. The data can be stored globally or local to the thread.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:d7/d25/a00182"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d25/a00182.html">picotm-ptrdata.h</a></td></tr>
<tr class="memdesc:d7/d25/a00182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public interfaces of picotm's pointer-data module. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6332eddb5d1f5a4f6f5e30c6fa70c3e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#ga6332eddb5d1f5a4f6f5e30c6fa70c3e3">ptr_clear_data</a> (const void *ptr, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:ga6332eddb5d1f5a4f6f5e30c6fa70c3e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae762bb5920f00962efbb8b64c5e5a911"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#gae762bb5920f00962efbb8b64c5e5a911">ptr_clear_shared_data</a> (const void *ptr, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:gae762bb5920f00962efbb8b64c5e5a911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ffd2d0ac5d9db6b30aa31f8091c9fca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#ga0ffd2d0ac5d9db6b30aa31f8091c9fca">ptr_get_data</a> (const void *ptr, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:ga0ffd2d0ac5d9db6b30aa31f8091c9fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad90a3602f8ac0ea883497dc43e3c6f54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#gad90a3602f8ac0ea883497dc43e3c6f54">ptr_get_shared_data</a> (const void *ptr, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:gad90a3602f8ac0ea883497dc43e3c6f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0cc5086105b93005e6dcfb8170ed447"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#gac0cc5086105b93005e6dcfb8170ed447">ptr_set_data</a> (const void *ptr, const void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:gac0cc5086105b93005e6dcfb8170ed447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff3b7e0a191a4aff88419ea98e05a5f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#gaff3b7e0a191a4aff88419ea98e05a5f0">ptr_set_shared_data</a> (const void *ptr, const void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:gaff3b7e0a191a4aff88419ea98e05a5f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9e9a9bd42ca4e83d34c2be16d9c8c11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> _Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00233.html#gae9e9a9bd42ca4e83d34c2be16d9c8c11">ptr_test_and_set_shared_data</a> (const void *ptr, const void *current, const void *data, struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *error)</td></tr>
<tr class="separator:gae9e9a9bd42ca4e83d34c2be16d9c8c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The pointer-data module associates data items with arbitrary memory locations. The data can be stored globally or local to the thread. The pointer-data module is a helper for other module and not to be used directly in application transactions.</p>
<p>Thread-local data is associated with an address with <code><a class="el" href="../../d6/de1/a00233.html#gac0cc5086105b93005e6dcfb8170ed447">ptr_set_data()</a></code>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span>* ptr = create_a_ptr_data_structure();</div><div class="line"></div><div class="line"><span class="keywordtype">int</span>* data = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line">*data = 0x1234;</div><div class="line"></div><div class="line"><span class="keyword">struct </span><a class="code" href="../../d6/d82/a00243.html">picotm_error</a> error = PICOTM_ERROR_INITIALIZER;</div><div class="line"><a class="code" href="../../d6/de1/a00233.html#gac0cc5086105b93005e6dcfb8170ed447">ptr_set_data</a>(ptr, data, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div></div><!-- fragment --><p>Once set, the data can be queried with <code><a class="el" href="../../d6/de1/a00233.html#ga0ffd2d0ac5d9db6b30aa31f8091c9fca">ptr_get_data()</a></code>.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d6/d82/a00243.html">picotm_error</a> error = PICOTM_ERROR_INITIALIZER;</div><div class="line"><span class="keywordtype">int</span>* data = <a class="code" href="../../d6/de1/a00233.html#ga0ffd2d0ac5d9db6b30aa31f8091c9fca">ptr_get_data</a>(ptr, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div></div><!-- fragment --><p>By default, the value returned by <code><a class="el" href="../../d6/de1/a00233.html#ga0ffd2d0ac5d9db6b30aa31f8091c9fca">ptr_get_data()</a></code>is NULL for address without data. Data can be cleared with a call to <code><a class="el" href="../../d6/de1/a00233.html#ga6332eddb5d1f5a4f6f5e30c6fa70c3e3">ptr_clear_data()</a></code>.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d6/d82/a00243.html">picotm_error</a> error = PICOTM_ERROR_INITIALIZER;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span>* data = <a class="code" href="../../d6/de1/a00233.html#ga0ffd2d0ac5d9db6b30aa31f8091c9fca">ptr_get_data</a>(ptr, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"><a class="code" href="../../d6/de1/a00233.html#ga6332eddb5d1f5a4f6f5e30c6fa70c3e3">ptr_clear_data</a>(ptr, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"></div><div class="line">free(data);</div></div><!-- fragment --><p>This call resets the address' data to NULL. It's equivalent to <code><a class="el" href="../../d6/de1/a00233.html#gac0cc5086105b93005e6dcfb8170ed447">ptr_set_data()</a></code> with a data value of NULL, but faster if address has no data already associated with it. The function only clears the entry, the associated data itself has to be cleaned up by the caller.</p>
<p>For globally shared data, a similar interface exists. Data is globally associated with an address with <code><a class="el" href="../../d6/de1/a00233.html#gaff3b7e0a191a4aff88419ea98e05a5f0">ptr_set_shared_data()</a></code>, retrieved with <code><a class="el" href="../../d6/de1/a00233.html#gad90a3602f8ac0ea883497dc43e3c6f54">ptr_get_shared_data()</a></code>, and cleared with <code><a class="el" href="../../d6/de1/a00233.html#gae762bb5920f00962efbb8b64c5e5a911">ptr_clear_shared_data()</a></code>.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d6/d82/a00243.html">picotm_error</a> error = PICOTM_ERROR_INITIALIZER;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span>* ptr = create_a_ptr_data_structure();</div><div class="line"></div><div class="line"><span class="keywordtype">int</span>* data = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line">*data = 0x1234;</div><div class="line"></div><div class="line"><a class="code" href="../../d6/de1/a00233.html#gaff3b7e0a191a4aff88419ea98e05a5f0">ptr_set_shared_data</a>(ptr, data, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"><span class="keywordtype">int</span>* data = <a class="code" href="../../d6/de1/a00233.html#gad90a3602f8ac0ea883497dc43e3c6f54">ptr_get_shared_data</a>(ptr, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"><a class="code" href="../../d6/de1/a00233.html#gae762bb5920f00962efbb8b64c5e5a911">ptr_clear_shared_data</a>(ptr, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"></div><div class="line">free(data);</div></div><!-- fragment --><p>All shared operations are atomic. If multiple threads try to set an address' data concurrently, exactly one will succeed. The atomic test-and-set function <code><a class="el" href="../../d6/de1/a00233.html#gae9e9a9bd42ca4e83d34c2be16d9c8c11">ptr_test_and_set_shared_data()</a></code> is available. The example below replaces an address data only if the current data is NULL.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../d6/d82/a00243.html">picotm_error</a> error = PICOTM_ERROR_INITIALIZER;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span>* ptr = create_a_ptr_data_structure();</div><div class="line"></div><div class="line"><span class="keywordtype">int</span>* data = malloc(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));</div><div class="line">*data = 0x1234;</div><div class="line"></div><div class="line">succ = <a class="code" href="../../d6/de1/a00233.html#gae9e9a9bd42ca4e83d34c2be16d9c8c11">ptr_test_and_set_shared_data</a>(ptr, NULL, data, &amp;error);</div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="../../da/d45/a00011.html#a2b55a07e710ba43ea793a67e5e817b08">picotm_error_is_set</a>(&amp;error)) {</div><div class="line">    <span class="comment">// handle error</span></div><div class="line">}</div><div class="line"><span class="keywordflow">if</span> (succ) {</div><div class="line">    <span class="comment">// NULL has been replaced by the value of data</span></div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">    <span class="comment">// the previous non-NULL value remained in place</span></div><div class="line">}</div></div><!-- fragment --><p>The pointer-data module does not clean up data value at the end of a thread of the application. Its using modules are responsible for this. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6332eddb5d1f5a4f6f5e30c6fa70c3e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6332eddb5d1f5a4f6f5e30c6fa70c3e3">&#9670;&nbsp;</a></span>ptr_clear_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void ptr_clear_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes thread-local data from an address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae762bb5920f00962efbb8b64c5e5a911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae762bb5920f00962efbb8b64c5e5a911">&#9670;&nbsp;</a></span>ptr_clear_shared_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void ptr_clear_shared_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes shared data from an address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0ffd2d0ac5d9db6b30aa31f8091c9fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ffd2d0ac5d9db6b30aa31f8091c9fca">&#9670;&nbsp;</a></span>ptr_get_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void* ptr_get_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns thread-local data of an address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad90a3602f8ac0ea883497dc43e3c6f54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad90a3602f8ac0ea883497dc43e3c6f54">&#9670;&nbsp;</a></span>ptr_get_shared_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void* ptr_get_shared_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns shared data of an address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac0cc5086105b93005e6dcfb8170ed447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0cc5086105b93005e6dcfb8170ed447">&#9670;&nbsp;</a></span>ptr_set_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void ptr_set_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets thread-local data for an address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The address' data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaff3b7e0a191a4aff88419ea98e05a5f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff3b7e0a191a4aff88419ea98e05a5f0">&#9670;&nbsp;</a></span>ptr_set_shared_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> void ptr_set_shared_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets shared data for an address. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The address' data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9e9a9bd42ca4e83d34c2be16d9c8c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9e9a9bd42ca4e83d34c2be16d9c8c11">&#9670;&nbsp;</a></span>ptr_test_and_set_shared_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d01/a00227.html#ga8925df8a78b66febc94f920b197a1f6e">PICOTM_NOTHROW</a> _Bool ptr_test_and_set_shared_data </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d82/a00243.html">picotm_error</a> *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets shared data for an address if the address has the expected data value set. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">ptr</td><td>The address </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current</td><td>The address' expected data </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data</td><td>The address' new data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error</td><td>Returns an error to the caller. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success, or false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<!--
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
-->
</body>
</html>
