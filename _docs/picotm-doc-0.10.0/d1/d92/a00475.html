<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>picotm: The Transactional Data-Structures Module</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">picotm
   &#160;<span id="projectnumber">0.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle">
<div class="title">The Transactional Data-Structures Module</div>  </div>
</div><!--header-->
<div class="contents">

<p>The txlib module provides data structures that are safe to use from within transactions and cooperate with the transaction manager. Currently supported are lists, queues, multisets and stacks.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for The Transactional Data-Structures Module:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../d1/d92/a00475.png" border="0" alt="" usemap="#d1_2d92_2a00475"/>
<map name="d1_2d92_2a00475" id="d1_2d92_2a00475">
<area shape="rect" id="node1" href="../../d9/dea/a00478.html" title="The transactional queue provides a transaction&#45;safe implementation of a single&#45;ended FIFO queue..." alt="" coords="397,16,558,43"/>
<area shape="rect" id="node2" href="../../d9/dca/a00477.html" title="The transactional multiset provides a transaction&#45;safe implementation of a multiset. Multisets are sorted sets of elements. Duplicate entries are supported. " alt="" coords="392,76,563,103"/>
<area shape="rect" id="node3" href="../../d9/d34/a00476.html" title="The transactional list provides a transaction&#45;safe implementation of a double&#45;linked list..." alt="" coords="406,136,549,163"/>
<area shape="rect" id="node5" href="../../d9/d4a/a00479.html" title="The transactional stack provides a transaction&#45;safe implementation of a single&#45;ended LIFO stack..." alt="" coords="400,196,555,223"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:db/d10/a00350"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d10/a00350.html">picotm-txlib.h</a></td></tr>
<tr class="memdesc:db/d10/a00350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides transactional data structures. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:db/ddc/a00353"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/ddc/a00353.html">picotm-txlist-state.h</a></td></tr>
<tr class="memdesc:db/ddc/a00353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides non-transactional state and entries for transactional lists. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d6/de1/a00356"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/de1/a00356.html">picotm-txlist.h</a></td></tr>
<tr class="memdesc:d6/de1/a00356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides transactional lists. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d4/def/a00359"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/def/a00359.html">picotm-txmultiset-state.h</a></td></tr>
<tr class="memdesc:d4/def/a00359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides non-transactional state and entries for transactional multisets. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:de/dd7/a00362"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dd7/a00362.html">picotm-txmultiset.h</a></td></tr>
<tr class="memdesc:de/dd7/a00362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides transactional multisets. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dd/db5/a00365"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db5/a00365.html">picotm-txqueue-state.h</a></td></tr>
<tr class="memdesc:dd/db5/a00365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides non-transactional state and entries for transactional queues. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d8/d21/a00368"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d21/a00368.html">picotm-txqueue.h</a></td></tr>
<tr class="memdesc:d8/d21/a00368"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides transactional queues. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d6/d80/a00371"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d80/a00371.html">picotm-txstack-state.h</a></td></tr>
<tr class="memdesc:d6/d80/a00371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides non-transactional state and entries for transactional stacks. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d5/db5/a00374"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/db5/a00374.html">picotm-txstack.h</a></td></tr>
<tr class="memdesc:d5/db5/a00374"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides transactional stacks. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Txlib, the transactional data-structures module, provides data structures that are safe and efficient to use from within transactions. Each data strcuture's implementation cooperates with the transaction manager to provide concurrency control and error recovery.</p>
<p>As a quick example, the following code removes an entry from a source list and appends it to a destination list. The change becomes globally visible during the transaction's successful commit. Concurrent, conflicting access to the list data strcutures is detected and resolved automatically. If the transaction has to roll back at any point, the invoked operation are reverted and the lists return to their previous state.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="../../de/de6/a00723.html" title="The global state of transaction-safe list. ">txlist_state</a> src_list_state = <a class="code" href="../../db/ddc/a00353.html#a697c945d82c5ea514867065bbc59f7a4" title="Initializer macro for struct txlist_state. ">TXLIST_STATE_INITIALIZER</a>(src_list_state);</div><div class="line"><span class="keyword">struct </span><a class="code" href="../../de/de6/a00723.html" title="The global state of transaction-safe list. ">txlist_state</a> dst_list_state = <a class="code" href="../../db/ddc/a00353.html#a697c945d82c5ea514867065bbc59f7a4" title="Initializer macro for struct txlist_state. ">TXLIST_STATE_INITIALIZER</a>(dst_list_state);</div><div class="line"></div><div class="line"><span class="keyword">struct </span><a class="code" href="../../d3/d3b/a00715.html" title="Represents an entry in a transaction-safe list. ">txlist_entry</a> list_entry = <a class="code" href="../../db/ddc/a00353.html#a7eaeef3c99a1b634b73f81ad636f8398" title="Initializer macro for struct txlist_entry. ">TXLIST_ENTRY_INITIALIZER</a>;</div><div class="line"></div><div class="line"><span class="comment">// init code</span></div><div class="line"></div><div class="line"><a class="code" href="../../d7/d12/a00911.html#acc4de35068696187a89ba73ff54f2c82">picotm_begin</a></div><div class="line"></div><div class="line">    <span class="keyword">struct </span><a class="code" href="../../de/dfc/a00891.html" title="A handle for operating on transaction-safe lists. ">txlist</a>* src_list = <a class="code" href="../../d6/de1/a00356.html#af4e51e648833fef875918e74c91b90ae" title="Creates a transactional list for a list state. ">txlist_of_state_tx</a>(&amp;src_list_state);</div><div class="line">    <span class="keyword">struct </span><a class="code" href="../../de/dfc/a00891.html" title="A handle for operating on transaction-safe lists. ">txlist</a>* dst_list = <a class="code" href="../../d6/de1/a00356.html#af4e51e648833fef875918e74c91b90ae" title="Creates a transactional list for a list state. ">txlist_of_state_tx</a>(&amp;dst_list_state);</div><div class="line"></div><div class="line">    <span class="comment">// The list state for &#39;src_list&#39; already contains the entry.</span></div><div class="line">    <a class="code" href="../../d6/de1/a00356.html#a137aa50a8f4a13e731d371abdd9b77dd" title="Removes an entry from a transactional list. ">txlist_erase_tx</a>(src_list, &amp;list_entry);</div><div class="line"></div><div class="line">    <a class="code" href="../../d6/de1/a00356.html#afcb11691957bca9b03646d17f2f4f1ef" title="Inserts an entry at the end of a transactional list. ">txlist_push_back_tx</a>(dst_list, &amp;item-&gt;list_entry);</div><div class="line"></div><div class="line">    <span class="comment">// ... more transactional code ...</span></div><div class="line"></div><div class="line"><a class="code" href="../../d7/d12/a00911.html#aa2a3ff1fd64dd3038cb3e863da12f1c9">picotm_commit</a></div><div class="line"><a class="code" href="../../d7/d12/a00911.html#acc10340471b96a797fbf6610341bbe01">picotm_end</a></div></div><!-- fragment --><p>For more information, refer to the documentation of the specific data structure.</p>
<ol type="1">
<li><a class="el" href="../../d9/d34/a00476.html">Transactional Lists</a> <br />
 The transactional list provides a transaction-safe implementation of a double-linked list. Efficient insert and remove operations are supported anywhere within the list.</li>
<li><a class="el" href="../../d9/dea/a00478.html">Transactional Queues</a> <br />
 The transactional queue provides a transaction-safe implementation of a single-ended FIFO queue. Efficient insert operations are supported on one end, efficient remove operations are supported on the opposite end.</li>
<li><a class="el" href="../../d9/dca/a00477.html">Transactional Multisets</a> <br />
 The transactional multiset provides a transaction-safe implementation of a multiset. Multisets are sorted sets of elements. Duplicate entries are supported.</li>
<li><a class="el" href="../../d9/d4a/a00479.html">Transactional Stacks</a> <br />
 The transactional stack provides a transaction-safe implementation of a single-ended LIFO stack. Efficient insert and remove operations are supported on the same end. </li>
</ol>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
